<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Schwartz-Zippel Note - CC's blog</title><meta name=description content="Schwartz-Zippel Lemma is frequently used in Snark interactive proofs.
For a non-zero, $m$-variate polynomial $P: \mathbb{F}^m \to \mathbb{F}$ with degree $d$, defined on a finite field $\mathbb{F}$, the lemma states
$$ \Pr_{X \in \mathbb{F}^m}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$
The $|\mathbb{F}|$ is the size of the field, i.e. number of elements in it.
Let&rsquo;s forget what $m$-variate polynomial is and focus on the univariate case.
$$ \Pr_{X \in \mathbb{F}}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$"><meta name=author content><link rel=icon type=image/x-icon href=https://liangcc.me/images/favicon-dark.ico><link rel=apple-touch-icon href=https://liangcc.me/images/apple-touch-icon-dark.png><link rel=stylesheet type=text/css title=light id=light href=https://liangcc.me/stylesheets/light.css><link rel=stylesheet type=text/css title=dark id=dark href=https://liangcc.me/stylesheets/dark.css disabled><link rel="preload stylesheet" as=style href=https://liangcc.me/custom.min.css><link rel="preload stylesheet" as=style href=https://liangcc.me/an-old-hope.min.css><script defer src=https://liangcc.me/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><meta name=generator content="Hugo 0.109.0"><meta property="og:title" content="Schwartz-Zippel Note"><meta property="og:description" content="Schwartz-Zippel Lemma is frequently used in Snark interactive proofs.
For a non-zero, $m$-variate polynomial $P: \mathbb{F}^m \to \mathbb{F}$ with degree $d$, defined on a finite field $\mathbb{F}$, the lemma states
$$ \Pr_{X \in \mathbb{F}^m}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$
The $|\mathbb{F}|$ is the size of the field, i.e. number of elements in it.
Let&rsquo;s forget what $m$-variate polynomial is and focus on the univariate case.
$$ \Pr_{X \in \mathbb{F}}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$"><meta property="og:type" content="article"><meta property="og:url" content="https://liangcc.me/posts/2023-10-17_schwartz_zippel/"><meta property="og:image" content="https://liangcc.me/images/Keyslockstravel.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-17T21:15:02+08:00"><meta property="article:modified_time" content="2023-10-17T21:15:02+08:00"><meta property="og:site_name" content="CC's blog"><meta itemprop=name content="Schwartz-Zippel Note"><meta itemprop=description content="Schwartz-Zippel Lemma is frequently used in Snark interactive proofs.
For a non-zero, $m$-variate polynomial $P: \mathbb{F}^m \to \mathbb{F}$ with degree $d$, defined on a finite field $\mathbb{F}$, the lemma states
$$ \Pr_{X \in \mathbb{F}^m}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$
The $|\mathbb{F}|$ is the size of the field, i.e. number of elements in it.
Let&rsquo;s forget what $m$-variate polynomial is and focus on the univariate case.
$$ \Pr_{X \in \mathbb{F}}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$"><meta itemprop=datePublished content="2023-10-17T21:15:02+08:00"><meta itemprop=dateModified content="2023-10-17T21:15:02+08:00"><meta itemprop=wordCount content="395"><meta itemprop=image content="https://liangcc.me/images/Keyslockstravel.png"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://liangcc.me/images/Keyslockstravel.png"><meta name=twitter:title content="Schwartz-Zippel Note"><meta name=twitter:description content="Schwartz-Zippel Lemma is frequently used in Snark interactive proofs.
For a non-zero, $m$-variate polynomial $P: \mathbb{F}^m \to \mathbb{F}$ with degree $d$, defined on a finite field $\mathbb{F}$, the lemma states
$$ \Pr_{X \in \mathbb{F}^m}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$
The $|\mathbb{F}|$ is the size of the field, i.e. number of elements in it.
Let&rsquo;s forget what $m$-variate polynomial is and focus on the univariate case.
$$ \Pr_{X \in \mathbb{F}}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|} $$"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css integrity=sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0 crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js integrity=sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script></head><body><main class=main><div class="grid grid-centered"><div class=grid-cell><nav class="header-nav scrollappear"><a href=/ class=header-logo title="CC's blog">CC's blog</a><ul class=header-links><li><a href=/about title=About><svg xmlns="http://www.w3.org/2000/svg" class="icon-about"><use href="https://liangcc.me/icons/about.svg#icon-about" xlink:href="https://liangcc.me/icons/about.svg#icon-about"/></svg></a></li><li><a href=/index.xml rel="noreferrer noopener" target=_blank title=RSS><svg xmlns="http://www.w3.org/2000/svg" class="icon-rss"><use href="https://liangcc.me/icons/rss.svg#icon-rss" xlink:href="https://liangcc.me/icons/rss.svg#icon-rss"/></svg></a></li><li><a onclick=toggle() title="Toggle Theme"><svg xmlns="http://www.w3.org/2000/svg" class="icon-theme"><use href="https://liangcc.me/icons/theme.svg#icon-theme" xlink:href="https://liangcc.me/icons/theme.svg#icon-theme"/></svg></a></li></ul></nav><article class="article scrollappear"><header class=article-header><h1>Schwartz-Zippel Note</h1><div class=article-list-footer><span class=article-list-date>Oct 17, 2023</span>
<span class=article-list-divider>-</span>
<span class=article-list-minutes>2 minute read</span></div></header><div class=article-content><p>Schwartz-Zippel Lemma is frequently used in Snark interactive proofs.</p><p>For a <em>non-zero</em>, $m$-variate polynomial $P: \mathbb{F}^m \to \mathbb{F}$ with degree $d$, defined on a finite field $\mathbb{F}$, the lemma states</p><p>$$
\Pr_{X \in \mathbb{F}^m}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|}
$$</p><p>The $|\mathbb{F}|$ is the size of the field, i.e. number of elements in it.</p><p>Let&rsquo;s forget what $m$-variate polynomial is and focus on the univariate case.</p><p>$$
\Pr_{X \in \mathbb{F}}{[P(X) = 0]} \le \frac{d}{|\mathbb{F}|}
$$</p><p>The lemma says if we define a polynomial on a very big field, and randomly choose a point from the field to evaluate the polynomial, then it would be improbable for the polynomial to evaluate zero.</p><p>The degree d polynomial has d solutions, so d out of $|\mathbb{F}|$ elements can make the polynomial evaluates to zero.</p><h3 id=example>Example</h3><p>$$
P(X) = X^2 - 3X + 2
$$</p><p>We define $P(X)$ on $\mathbb{Z}_{101} = \lbrace 0, 1, 2, 3, \dots, 100 \rbrace$</p><p>Note that $P(X)$ evaluates to zero on $X=1$ and $X=2$</p><p>Since $P(X)$ is a degree two polynomial and $\mathbb{Z}_{101}$ is a prime field, only 1 and 2 from the 101 elements can make $P(X)$ evaluate to zero.</p><h2 id=applications>Applications</h2><h3 id=zero-check>Zero Check</h3><p>We know a polynomial $P$ with degree $d$ but none of its coefficients. We have an API to evaluate the polynomial on some points, and we want to determine if $P(X) := 0$. To check that for sure, we have to check $d+1$ points and see the evaluations are all zero. But with Schwartz-Zippel, we can check just one point to conclude with high confidence.</p><p>In usual Snarks settings, the field size is roughly 256 bits, so $|\mathbb{F}| \approx 2^{255}$. The polynomial we use has a degree usually $2^{20}$. So the probability of the polynomial evaluating to zero would be</p><p>$$
\frac{d}{|\mathbb{F}|} = \frac{2^{20}}{2^{255}} = \frac{1}{2^{235}}
$$</p><p>Which is practically a very tiny probability.</p><p>Suppose $P(X)$ is a non-zero polynomial. Randomly sampling a $x$ on $\mathbb{F}$ and then getting $P(x) = 0$ is like finding a needle in the ocean. We can reasonably believe $P(X)$ is a zero polynomial, i.e. $P(X) := 0$</p><h3 id=equality-check>Equality Check</h3><p>We can apply the same idea to check if $P_1 = P_2$, for polynomials $P_1$ and $P_2$.</p><p>Define $P(X) := P_1(X) - P_2(X)$, then checking $P_1 = P_2$ is the same as checking $P(X) = 0$</p><h3 id=source>Source</h3><p>[1] J. Thaler, “Proofs, Arguments, and Zero-Knowledge,” p. 28.</p></div></article><footer class="footer scrollappear"><p><span>&copy; 2023 <a href=https://liangcc.me/>CC's blog</a></span>
<span>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo</a></span>
<span>Theme is based on <a href=https://github.com/nielsenramon/chalk rel="noreferrer noopener" target=_blank>Chalk</a></span></p></footer></div></div></main><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script>
<script src=https://liangcc.me/javascripts/zooming.min.js></script>
<script src=https://liangcc.me/javascripts/retina.min.js></script>
<script src=https://liangcc.me/javascripts/svgxuse.min.js></script>
<script src=https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js></script>
<script src=https://liangcc.me/javascripts/vendor.min.js></script>
<script src=https://liangcc.me/javascripts/webfonts.min.js></script>
<script src=https://liangcc.me/javascripts/scrollappear.min.js></script>
<script src=https://liangcc.me/javascripts/application.min.js></script>
<script src=https://liangcc.me/javascripts/themetoggle.min.js></script></body></html>